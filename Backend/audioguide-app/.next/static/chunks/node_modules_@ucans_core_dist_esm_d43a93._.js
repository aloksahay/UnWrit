(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push(["static/chunks/node_modules_@ucans_core_dist_esm_d43a93._.js", {

"[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "all": (()=>all),
    "first": (()=>first),
    "generateNonce": (()=>generateNonce),
    "hasProp": (()=>hasProp),
    "isAsyncIterable": (()=>isAsyncIterable),
    "isIterable": (()=>isIterable),
    "isRecord": (()=>isRecord)
});
var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __asyncValues = this && this.__asyncValues || function(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
        return this;
    }, i);
    "TURBOPACK unreachable";
    function verb(n) {
        i[n] = o[n] && function(v) {
            return new Promise(function(resolve, reject) {
                v = o[n](v), settle(resolve, reject, v.done, v.value);
            });
        };
    }
    function settle(resolve, reject, d, v) {
        Promise.resolve(v).then(function(v) {
            resolve({
                value: v,
                done: d
            });
        }, reject);
    }
};
const CHARS = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
const generateNonce = (len = 6)=>{
    let nonce = "";
    for(let i = 0; i < len; i++){
        nonce += CHARS[Math.floor(Math.random() * CHARS.length)];
    }
    return nonce;
};
function hasProp(data, prop) {
    return typeof data === "object" && data != null && prop in data;
}
function isRecord(data) {
    return typeof data === "object" && data != null;
}
function isIterable(obj) {
    return typeof obj === "object" && obj != null && Symbol.iterator in obj;
}
function isAsyncIterable(obj) {
    return typeof obj === "object" && obj != null && Symbol.asyncIterator in obj;
}
function all(it) {
    if (isIterable(it)) {
        const arr = [];
        for (const elem of it){
            arr.push(elem);
        }
        return arr;
    } else if (isAsyncIterable(it)) {
        return (()=>__awaiter(this, void 0, void 0, function*() {
                var e_1, _a;
                const arr = [];
                try {
                    for(var it_1 = __asyncValues(it), it_1_1; it_1_1 = yield it_1.next(), !it_1_1.done;){
                        const elem = it_1_1.value;
                        arr.push(elem);
                    }
                } catch (e_1_1) {
                    e_1 = {
                        error: e_1_1
                    };
                } finally{
                    try {
                        if (it_1_1 && !it_1_1.done && (_a = it_1.return)) yield _a.call(it_1);
                    } finally{
                        if (e_1) throw e_1.error;
                    }
                }
                return arr;
            }))();
    } else {
        throw new TypeError(`Expected either Iterable or AsyncIterable, but got ${it}`);
    }
}
function first(it) {
    if (isIterable(it)) {
        for (const elem of it){
            return elem;
        }
        return undefined;
    } else if (isAsyncIterable(it)) {
        return (()=>__awaiter(this, void 0, void 0, function*() {
                var e_2, _a;
                try {
                    for(var it_2 = __asyncValues(it), it_2_1; it_2_1 = yield it_2.next(), !it_2_1.done;){
                        const elem = it_2_1.value;
                        return elem;
                    }
                } catch (e_2_1) {
                    e_2 = {
                        error: e_2_1
                    };
                } finally{
                    try {
                        if (it_2_1 && !it_2_1.done && (_a = it_2.return)) yield _a.call(it_2);
                    } finally{
                        if (e_2) throw e_2.error;
                    }
                }
                return undefined;
            }))();
    } else {
        throw new TypeError(`Expected either Iterable or AsyncIterable, but got ${it}`);
    }
} //# sourceMappingURL=util.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/semver.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "EQ": (()=>EQ),
    "GT": (()=>GT),
    "LT": (()=>LT),
    "compare": (()=>compare),
    "eq": (()=>eq),
    "format": (()=>format),
    "gt": (()=>gt),
    "gte": (()=>gte),
    "isSemVer": (()=>isSemVer),
    "lt": (()=>lt),
    "lte": (()=>lte),
    "neq": (()=>neq),
    "parse": (()=>parse)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
;
function isSemVer(obj) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isRecord"])(obj) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hasProp"])(obj, "major") && typeof obj.major === "number" && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hasProp"])(obj, "minor") && typeof obj.minor === "number" && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hasProp"])(obj, "patch") && typeof obj.patch === "number";
}
// Parsing
const NUM_REGEX = /^0|[1-9]\d*/;
const matchesRegex = (regex)=>(str)=>{
        const m = str.match(regex);
        if (!m) return false;
        return m[0].length === str.length;
    };
function parse(version) {
    var _a, _b, _c;
    const sv = version.match(/^(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<buildmetadata>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/);
    if (sv === null) {
        return null;
    }
    const parts = `${(_a = sv.groups) === null || _a === void 0 ? void 0 : _a.major}.${(_b = sv.groups) === null || _b === void 0 ? void 0 : _b.minor}.${(_c = sv.groups) === null || _c === void 0 ? void 0 : _c.patch}`.split(".");
    if (parts.length !== 3) {
        return null;
    }
    if (!parts.every(matchesRegex(NUM_REGEX))) {
        return null;
    }
    const [major, minor, patch] = parts.map((part)=>parseInt(part, 10));
    if (!Number.isSafeInteger(major) || !Number.isSafeInteger(minor) || !Number.isSafeInteger(patch)) {
        return null;
    }
    if (major < 0 || minor < 0 || patch < 0) {
        return null;
    }
    return {
        major,
        minor,
        patch
    };
}
function format(semver) {
    return `${semver.major}.${semver.minor}.${semver.patch}`;
}
const GT = 1;
const EQ = 0;
const LT = -1;
function comparePart(left, right) {
    // when at least one of them is null
    if (left == null) {
        if (right == null) return EQ;
        return LT;
    } else if (right == null) {
        return GT;
    }
    // when none of them are null
    if (left > right) return GT;
    if (left < right) return LT;
    return EQ;
}
function compare(left, right) {
    const l = typeof left === "string" ? parse(left) : left;
    const r = typeof right === "string" ? parse(right) : right;
    return comparePart(l === null || l === void 0 ? void 0 : l.major, r === null || r === void 0 ? void 0 : r.major) || comparePart(l === null || l === void 0 ? void 0 : l.minor, r === null || r === void 0 ? void 0 : r.minor) || comparePart(l === null || l === void 0 ? void 0 : l.patch, r === null || r === void 0 ? void 0 : r.patch);
}
function lt(left, right) {
    return compare(left, right) === LT;
}
function gte(left, right) {
    return !lt(left, right);
}
function gt(left, right) {
    return compare(left, right) === GT;
}
function lte(left, right) {
    return !gt(left, right);
}
function eq(left, right) {
    return compare(left, right) === EQ;
}
function neq(left, right) {
    return !eq(left, right);
} //# sourceMappingURL=semver.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/capability/super-user.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "SUPERUSER": (()=>SUPERUSER),
    "isSuperuser": (()=>isSuperuser)
});
const SUPERUSER = "*";
function isSuperuser(obj) {
    return obj === SUPERUSER;
} //# sourceMappingURL=super-user.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "REDELEGATE": (()=>REDELEGATE),
    "SEPARATOR": (()=>SEPARATOR),
    "encode": (()=>encode),
    "isAbility": (()=>isAbility),
    "isEqual": (()=>isEqual),
    "joinSegments": (()=>joinSegments),
    "parse": (()=>parse)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/super-user.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
;
;
;
const SEPARATOR = "/";
const REDELEGATE = {
    namespace: "ucan",
    segments: [
        "DELEGATE"
    ]
};
function isAbility(obj) {
    return obj === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "namespace") && typeof obj.namespace === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "segments") && Array.isArray(obj.segments) && obj.segments.every((s)=>typeof s === "string");
}
function isEqual(a, b) {
    if (a === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] && b === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"]) return true;
    if (a === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] || b === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"]) return false;
    return a.namespace.toLowerCase() === b.namespace.toLowerCase() && joinSegments(a.segments).toLowerCase() === joinSegments(b.segments).toLowerCase();
}
function joinSegments(segments) {
    return segments.join(SEPARATOR);
}
function encode(ability) {
    switch(ability){
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"]:
            return ability;
        default:
            return joinSegments([
                ability.namespace,
                ...ability.segments
            ]);
    }
}
function parse(ability) {
    switch(ability){
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"]:
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"];
        default:
            {
                const [namespace, ...segments] = ability.split(SEPARATOR);
                return {
                    namespace,
                    segments
                };
            }
    }
} //# sourceMappingURL=ability.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/super-user.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <locals>");
}}),
"[project]/node_modules/@ucans/core/dist/esm/capability/resource-pointer.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "SEPARATOR": (()=>SEPARATOR),
    "as": (()=>as),
    "encode": (()=>encode),
    "isEqual": (()=>isEqual),
    "isResourcePointer": (()=>isResourcePointer),
    "my": (()=>my),
    "parse": (()=>parse),
    "prf": (()=>prf)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/super-user.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
;
;
const SEPARATOR = ":";
function isResourcePointer(obj) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "scheme") && typeof obj.scheme === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "hierPart") && (obj.hierPart === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] || typeof obj.hierPart === "string");
}
function as(did, resource) {
    return {
        scheme: "as",
        hierPart: `${did}:${resource}`
    };
}
function my(resource) {
    return {
        scheme: "my",
        hierPart: resource
    };
}
function prf(selector) {
    return {
        scheme: "prf",
        hierPart: selector.toString()
    };
}
function isEqual(a, b) {
    return a.scheme.toLowerCase() === a.scheme.toLowerCase() && a.hierPart === b.hierPart;
}
function encode(pointer) {
    return `${pointer.scheme}${SEPARATOR}${pointer.hierPart}`;
}
function parse(pointer) {
    const [scheme, ...hierPart] = pointer.split(SEPARATOR);
    return {
        scheme,
        hierPart: hierPart.join(SEPARATOR)
    };
} //# sourceMappingURL=resource-pointer.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <exports>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({
    "REDELEGATE": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["REDELEGATE"]),
    "SEPARATOR": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["SEPARATOR"]),
    "SUPERUSER": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"]),
    "encode": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["encode"]),
    "isAbility": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isAbility"]),
    "isEqual": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isEqual"]),
    "joinSegments": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["joinSegments"]),
    "parse": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["parse"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/super-user.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <locals>");
}}),
"[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({
    "REDELEGATE": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["REDELEGATE"]),
    "SEPARATOR": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["SEPARATOR"]),
    "SUPERUSER": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["SUPERUSER"]),
    "encode": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["encode"]),
    "isAbility": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isAbility"]),
    "isEqual": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isEqual"]),
    "joinSegments": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["joinSegments"]),
    "parse": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["parse"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <exports>");
}}),
"[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "as": (()=>as),
    "encode": (()=>encode),
    "isCapability": (()=>isCapability),
    "isEncodedCapability": (()=>isEncodedCapability),
    "isEqual": (()=>isEqual),
    "my": (()=>my),
    "parse": (()=>parse),
    "prf": (()=>prf)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/resource-pointer.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript)");
;
;
;
;
;
;
function isCapability(obj) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "with") && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isResourcePointer"])(obj.with) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "can") && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isAbility"])(obj.can);
}
function isEncodedCapability(obj) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "with") && typeof obj.with === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "can") && typeof obj.can === "string";
}
function as(did, resource) {
    return {
        with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.as(did, resource),
        can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.SUPERUSER
    };
}
function my(resource) {
    return {
        with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.my(resource),
        can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.SUPERUSER
    };
}
function prf(selector, ability) {
    return {
        with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.prf(selector),
        can: ability
    };
}
function isEqual(a, b) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isEqual(a.with, b.with) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isEqual(a.can, b.can);
}
function encode(cap) {
    return {
        with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode(cap.with),
        can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode(cap.can)
    };
}
function parse(cap) {
    return {
        with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.parse(cap.with),
        can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.parse(cap.can)
    };
} //# sourceMappingURL=index.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/resource-pointer.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <locals>");
}}),
"[project]/node_modules/@ucans/core/dist/esm/types.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "isKeypair": (()=>isKeypair),
    "isUcanHeader": (()=>isUcanHeader),
    "isUcanPayload": (()=>isUcanPayload)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$semver$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/semver.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <locals>");
;
;
;
function isKeypair(obj) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "jwtAlg") && typeof obj.jwtAlg === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "sign") && typeof obj.sign === "function";
}
function isUcanHeader(obj) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "alg") && typeof obj.alg === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "typ") && typeof obj.typ === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "ucv") && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$semver$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isSemVer(obj.ucv);
}
function isUcanPayload(obj) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "iss") && typeof obj.iss === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "aud") && typeof obj.aud === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "exp") && typeof obj.exp === "number" && (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "nbf") || typeof obj.nbf === "number") && (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "nnc") || typeof obj.nnc === "string") && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "att") && Array.isArray(obj.att) && obj.att.every((a)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isCapability"])(a) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isEncodedCapability"])(a)) && (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "fct") || Array.isArray(obj.fct) && obj.fct.every(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord)) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "prf") && Array.isArray(obj.prf) && obj.prf.every((str)=>typeof str === "string");
} //# sourceMappingURL=types.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/compatibility.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
// A module to hold all the ugly compatibility logic
// for getting from old UCANs to newer version UCANs.
__turbopack_esm__({
    "handleCompatibility": (()=>handleCompatibility)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$semver$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/semver.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/super-user.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/types.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <locals>");
;
;
;
;
;
const VERSION_0_3 = {
    major: 0,
    minor: 3,
    patch: 0
};
function isUcanHeader_0_3_0(obj) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "alg") && typeof obj.alg === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "typ") && typeof obj.typ === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "uav") && typeof obj.uav === "string";
}
function isUcanPayload_0_3_0(obj) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "iss") && typeof obj.iss === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "aud") && typeof obj.aud === "string" && (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "nbf") || typeof obj.nbf === "number") && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "exp") && typeof obj.exp === "number" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "rsc") && (typeof obj.rsc === "string" || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj)) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "ptc") && typeof obj.ptc === "string" && (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "prf") || typeof obj.prf === "string");
}
function handleCompatibility(header, payload) {
    const fail = (place, reason)=>new Error(`Can't parse UCAN ${place}: ${reason}`);
    if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(header)) throw fail("header", "Invalid format: Expected a record");
    // parse either the "ucv" or "uav" as a version in the header
    // we translate 'uav: 1.0.0' into 'ucv: 0.3.0'
    let version = "0.9.1";
    if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(header, "ucv") || typeof header.ucv !== "string") {
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(header, "uav") || typeof header.uav !== "string") {
            throw fail("header", "Invalid format: Missing version indicator");
        } else if (header.uav !== "1.0.0") {
            throw fail("header", `Unsupported version 'uav: ${header.uav}'`);
        }
        version = "0.3.0";
    } else if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$semver$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.lt(header.ucv, "0.8.0")) {
        throw fail("header", `Unsupported version 'ucv: ${header.ucv}'`);
    }
    if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$semver$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.gte(version, "0.8.0")) {
        if (typeof header.ucv !== "string") {
            throw fail("header", "Invalid format: Missing 'ucv' key or 'ucv' is not a string");
        }
        header.ucv = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$semver$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.parse(header.ucv);
        if (header.ucv == null) {
            throw fail("header", "Invalid format: 'ucv' string cannot be parsed into a semantic version");
        }
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isUcanHeader"])(header)) throw fail("header", "Invalid format");
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isUcanPayload"])(payload)) throw fail("payload", "Invalid format");
        return {
            header,
            payload
        };
    }
    // we know it's version 0.3.0
    if (!isUcanHeader_0_3_0(header)) throw fail("header", "Invalid version 0.3.0 format");
    if (!isUcanPayload_0_3_0(payload)) throw fail("payload", "Invalid version 0.3.0 format");
    return {
        header: {
            alg: header.alg,
            typ: header.typ,
            ucv: VERSION_0_3
        },
        payload: {
            iss: payload.iss,
            aud: payload.aud,
            nbf: payload.nbf,
            exp: payload.exp,
            att: (()=>{
                if (payload.rsc === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] || typeof payload.rsc === "string") return [
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["my"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"])
                ];
                const resources = payload.rsc;
                return Object.keys(resources).map((rscKey)=>{
                    return {
                        with: {
                            scheme: rscKey,
                            hierPart: resources[rscKey]
                        },
                        can: payload.ptc === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] : {
                            namespace: rscKey,
                            segments: [
                                payload.ptc
                            ]
                        }
                    };
                });
            })(),
            prf: payload.prf != null ? [
                payload.prf
            ] : []
        }
    };
} //# sourceMappingURL=compatibility.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <exports>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({
    "ability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__),
    "as": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["as"]),
    "encode": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["encode"]),
    "isAbility": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isAbility"]),
    "isCapability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isCapability"]),
    "isEncodedCapability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isEncodedCapability"]),
    "isEqual": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isEqual"]),
    "my": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["my"]),
    "parse": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["parse"]),
    "prf": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["prf"]),
    "resourcePointer": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/resource-pointer.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <locals>");
}}),
"[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({
    "ability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["ability"]),
    "as": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["as"]),
    "encode": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["encode"]),
    "isAbility": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isAbility"]),
    "isCapability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isCapability"]),
    "isEncodedCapability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isEncodedCapability"]),
    "isEqual": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isEqual"]),
    "my": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["my"]),
    "parse": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["parse"]),
    "prf": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["prf"]),
    "resourcePointer": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["resourcePointer"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <exports>");
}}),
"[project]/node_modules/@ucans/core/dist/esm/token.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "build": (()=>build),
    "buildPayload": (()=>buildPayload),
    "encode": (()=>encode),
    "encodeHeader": (()=>encodeHeader),
    "encodePayload": (()=>encodePayload),
    "isExpired": (()=>isExpired),
    "isTooEarly": (()=>isTooEarly),
    "parse": (()=>parse),
    "sign": (()=>sign),
    "signWithKeypair": (()=>signWithKeypair),
    "validate": (()=>validate),
    "validateProofs": (()=>validateProofs)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/node_modules/uint8arrays/esm/src/index.js [app-client] (ecmascript) <module evaluation>"); // @IMPORT
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$semver$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/semver.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$compatibility$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/compatibility.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/node_modules/uint8arrays/esm/src/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <locals>");
var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __await = this && this.__await || function(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
};
var __asyncGenerator = this && this.__asyncGenerator || function(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
        return this;
    }, i;
    "TURBOPACK unreachable";
    function verb(n) {
        if (g[n]) i[n] = function(v) {
            return new Promise(function(a, b) {
                q.push([
                    n,
                    v,
                    a,
                    b
                ]) > 1 || resume(n, v);
            });
        };
    }
    function resume(n, v) {
        try {
            step(g[n](v));
        } catch (e) {
            settle(q[0][3], e);
        }
    }
    function step(r) {
        r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);
    }
    function fulfill(value) {
        resume("next", value);
    }
    function reject(value) {
        resume("throw", value);
    }
    function settle(f, v) {
        if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);
    }
};
;
;
;
;
;
;
// CONSTANTS
const TYPE = "JWT";
const VERSION = {
    major: 0,
    minor: 8,
    patch: 1
};
const build = (plugins)=>(params)=>{
        const keypair = params.issuer;
        const payload = buildPayload(Object.assign(Object.assign({}, params), {
            issuer: keypair.did()
        }));
        return signWithKeypair(plugins)(payload, keypair);
    };
function buildPayload(params) {
    const { issuer, audience, capabilities = [], lifetimeInSeconds = 30, expiration, notBefore, facts, proofs = [], addNonce = false } = params;
    // Validate
    if (!issuer.startsWith("did:")) throw new Error("The issuer must be a DID");
    if (!audience.startsWith("did:")) throw new Error("The audience must be a DID");
    // Timestamps
    const currentTimeInSeconds = Math.floor(Date.now() / 1000);
    const exp = expiration || currentTimeInSeconds + lifetimeInSeconds;
    // 
    return {
        aud: audience,
        att: capabilities,
        exp,
        fct: facts,
        iss: issuer,
        nbf: notBefore,
        nnc: addNonce ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.generateNonce() : undefined,
        prf: proofs
    };
}
const sign = (plugins)=>(payload, jwtAlg, signFn)=>__awaiter(void 0, void 0, void 0, function*() {
            const header = {
                alg: jwtAlg,
                typ: TYPE,
                ucv: VERSION
            };
            // Issuer key type must match UCAN algorithm
            if (!plugins.verifyIssuerAlg(payload.iss, jwtAlg)) {
                throw new Error("The issuer's key type must match the given key type.");
            }
            // Encode parts
            const encodedHeader = encodeHeader(header);
            const encodedPayload = encodePayload(payload);
            // Sign
            const signedData = `${encodedHeader}.${encodedPayload}`;
            const toSign = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.fromString(signedData, "utf8");
            const sig = yield signFn(toSign);
            // 
            // we freeze the object to make it more unlikely
            // for signedData & header/payload to get out of sync
            return Object.freeze({
                header,
                payload,
                signedData,
                signature: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.toString(sig, "base64url")
            });
        });
const signWithKeypair = (plugins)=>(payload, keypair)=>{
        return sign(plugins)(payload, keypair.jwtAlg, (data)=>keypair.sign(data));
    };
function encode(ucan) {
    return `${ucan.signedData}.${ucan.signature}`;
}
function encodeHeader(header) {
    const headerFormatted = Object.assign(Object.assign({}, header), {
        ucv: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$semver$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.format(header.ucv)
    });
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.toString(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.fromString(JSON.stringify(headerFormatted), "utf8"), "base64url");
}
function encodePayload(payload) {
    const payloadWithEncodedCaps = Object.assign(Object.assign({}, payload), {
        att: payload.att.map(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode)
    });
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.toString(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.fromString(JSON.stringify(payloadWithEncodedCaps), "utf8"), "base64url");
}
function parse(encodedUcan) {
    const [encodedHeader, encodedPayload, signature] = encodedUcan.split(".");
    if (encodedHeader == null || encodedPayload == null || signature == null) {
        throw new Error(`Can't parse UCAN: ${encodedUcan}: Expected JWT format: 3 dot-separated base64url-encoded values.`);
    }
    // Header
    let headerJson;
    let headerObject;
    try {
        headerJson = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.toString(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.fromString(encodedHeader, "base64url"), "utf8");
    } catch (_a) {
        throw new Error(`Can't parse UCAN header: ${encodedHeader}: Can't parse as base64url.`);
    }
    try {
        headerObject = JSON.parse(headerJson);
    } catch (_b) {
        throw new Error(`Can't parse UCAN header: ${encodedHeader}: Can't parse encoded JSON inside.`);
    }
    // Payload
    let payloadJson;
    let payloadObject;
    try {
        payloadJson = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.toString(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.fromString(encodedPayload, "base64url"), "utf8");
    } catch (_c) {
        throw new Error(`Can't parse UCAN payload: ${encodedPayload}: Can't parse as base64url.`);
    }
    try {
        payloadObject = JSON.parse(payloadJson);
    } catch (_d) {
        throw new Error(`Can't parse UCAN payload: ${encodedPayload}: Can't parse encoded JSON inside.`);
    }
    // Compatibility layer
    const { header, payload } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$compatibility$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["handleCompatibility"])(headerObject, payloadObject);
    // Ensure proper types/structure
    const parsedAttenuations = payload.att.reduce((acc, cap)=>{
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isEncodedCapability"])(cap) ? [
            ...acc,
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.parse(cap)
        ] : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isCapability"])(cap) ? [
            ...acc,
            cap
        ] : acc;
    }, []);
    // Fin
    return {
        header: header,
        payload: Object.assign(Object.assign({}, payload), {
            att: parsedAttenuations
        })
    };
}
const validate = (plugins)=>(encodedUcan, opts)=>__awaiter(void 0, void 0, void 0, function*() {
            const { checkIssuer = true, checkSignature = true, checkIsExpired = true, checkIsTooEarly = true } = opts !== null && opts !== void 0 ? opts : {};
            const { header, payload } = parse(encodedUcan);
            const [encodedHeader, encodedPayload, signature] = encodedUcan.split(".");
            if (checkIssuer) {
                const validIssuer = plugins.verifyIssuerAlg(payload.iss, header.alg);
                if (!validIssuer) {
                    throw new Error(`Invalid UCAN: ${encodedUcan}: Issuer key type does not match UCAN's \`alg\` property.`);
                }
            }
            if (checkSignature) {
                const sigBytes = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.fromString(signature, "base64url");
                const data = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.fromString(`${encodedHeader}.${encodedPayload}`, "utf8");
                const validSig = yield plugins.verifySignature(payload.iss, data, sigBytes);
                if (!validSig) {
                    throw new Error(`Invalid UCAN: ${encodedUcan}: Signature invalid.`);
                }
            }
            const signedData = `${encodedHeader}.${encodedPayload}`;
            const ucan = {
                header,
                payload,
                signedData,
                signature
            };
            if (checkIsExpired && isExpired(ucan)) {
                throw new Error(`Invalid UCAN: ${encodedUcan}: Expired.`);
            }
            if (checkIsTooEarly && isTooEarly(ucan)) {
                throw new Error(`Invalid UCAN: ${encodedUcan}: Not active yet (too early).`);
            }
            return ucan;
        });
const validateProofs = (plugins)=>function(ucan, opts) {
        return __asyncGenerator(this, arguments, function*() {
            const { checkAddressing = true, checkTimeBoundsSubset = true, checkVersionMonotonic = true } = opts || {};
            for (const prf of ucan.payload.prf){
                try {
                    const proof = yield __await(validate(plugins)(prf, opts));
                    if (checkAddressing && ucan.payload.iss !== proof.payload.aud) {
                        throw new Error(`Invalid Proof: Issuer ${ucan.payload.iss} doesn't match parent's audience ${proof.payload.aud}`);
                    }
                    if (checkTimeBoundsSubset && proof.payload.nbf != null && ucan.payload.exp > proof.payload.nbf) {
                        throw new Error(`Invalid Proof: 'Not before' (${proof.payload.nbf}) is after parent's expiration (${ucan.payload.exp})`);
                    }
                    if (checkTimeBoundsSubset && ucan.payload.nbf != null && ucan.payload.nbf > proof.payload.exp) {
                        throw new Error(`Invalid Proof: Expiration (${proof.payload.exp}) is before parent's 'not before' (${ucan.payload.nbf})`);
                    }
                    if (checkVersionMonotonic && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$semver$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.lt(ucan.header.ucv, proof.header.ucv)) {
                        throw new Error(`Invalid Proof: Version (${proof.header.ucv}) is higher than parent's version (${ucan.header.ucv})`);
                    }
                    yield yield __await(proof);
                } catch (e) {
                    if (e instanceof Error) {
                        yield yield __await(e);
                    } else {
                        yield yield __await(new Error(`Error when trying to parse UCAN proof: ${e}`));
                    }
                }
            }
        });
    };
function isExpired(ucan) {
    return ucan.payload.exp <= Math.floor(Date.now() / 1000);
}
const isTooEarly = (ucan)=>{
    if (ucan.payload.nbf == null) return false;
    return ucan.payload.nbf > Math.floor(Date.now() / 1000);
}; //# sourceMappingURL=token.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/attenuation.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "capabilityCanBeDelegated": (()=>capabilityCanBeDelegated),
    "delegationChains": (()=>delegationChains),
    "equalCanDelegate": (()=>equalCanDelegate),
    "ownershipCanBeDelegated": (()=>ownershipCanBeDelegated),
    "rootIssuer": (()=>rootIssuer)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/token.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/super-user.js [app-client] (ecmascript)");
var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __await = this && this.__await || function(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
};
var __asyncValues = this && this.__asyncValues || function(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
        return this;
    }, i);
    "TURBOPACK unreachable";
    function verb(n) {
        i[n] = o[n] && function(v) {
            return new Promise(function(resolve, reject) {
                v = o[n](v), settle(resolve, reject, v.done, v.value);
            });
        };
    }
    function settle(resolve, reject, d, v) {
        Promise.resolve(v).then(function(v) {
            resolve({
                value: v,
                done: d
            });
        }, reject);
    }
};
var __asyncDelegator = this && this.__asyncDelegator || function(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function(e) {
        throw e;
    }), verb("return"), i[Symbol.iterator] = function() {
        return this;
    }, i;
    "TURBOPACK unreachable";
    function verb(n, f) {
        i[n] = o[n] ? function(v) {
            return (p = !p) ? {
                value: __await(o[n](v)),
                done: n === "return"
            } : f ? f(v) : v;
        } : f;
    }
};
var __asyncGenerator = this && this.__asyncGenerator || function(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
        return this;
    }, i;
    "TURBOPACK unreachable";
    function verb(n) {
        if (g[n]) i[n] = function(v) {
            return new Promise(function(a, b) {
                q.push([
                    n,
                    v,
                    a,
                    b
                ]) > 1 || resume(n, v);
            });
        };
    }
    function resume(n, v) {
        try {
            step(g[n](v));
        } catch (e) {
            settle(q[0][3], e);
        }
    }
    function step(r) {
        r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);
    }
    function fulfill(value) {
        resume("next", value);
    }
    function reject(value) {
        resume("throw", value);
    }
    function settle(f, v) {
        if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);
    }
};
;
;
const delegationChains = (plugins)=>function(semantics, ucan, isRevoked = ()=>__awaiter(this, void 0, void 0, function*() {
            return false;
        })) {
        return __asyncGenerator(this, arguments, function*() {
            if (yield __await(isRevoked(ucan))) {
                yield yield __await(new Error(`UCAN Revoked: ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode(ucan)}`));
                return yield __await(void 0);
            }
            yield __await((yield* __asyncDelegator(__asyncValues(capabilitiesFromParenthood(ucan)))));
            yield __await((yield* __asyncDelegator(__asyncValues(capabilitiesFromDelegation(plugins, semantics, ucan, isRevoked)))));
        });
    };
function rootIssuer(delegationChain) {
    if ("capability" in delegationChain) {
        return delegationChain.chainStep == null ? delegationChain.ucan.payload.iss : rootIssuer(delegationChain.chainStep);
    }
    return delegationChain.ownershipDID;
}
const equalCanDelegate = {
    canDelegateResource (parentResource, childResource) {
        if (parentResource.scheme !== childResource.scheme) {
            return false;
        }
        return parentResource.hierPart === childResource.hierPart;
    },
    canDelegateAbility (parentAbility, childAbility) {
        if (parentAbility === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"]) {
            return true;
        }
        if (childAbility === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"]) {
            return false;
        }
        if (parentAbility.namespace !== childAbility.namespace) {
            return false;
        }
        // Array equality
        if (parentAbility.segments.length !== childAbility.segments.length) {
            return false;
        }
        return parentAbility.segments.reduce((acc, v, i)=>acc && childAbility.segments[i] === v, true);
    }
};
function capabilityCanBeDelegated(semantics, capability, fromDelegationChain) {
    if ("capability" in fromDelegationChain) {
        return canDelegate(semantics, fromDelegationChain.capability, capability);
    }
    const ownershipScope = fromDelegationChain.scope;
    if (ownershipScope === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"]) {
        return true;
    }
    return ownershipScope.scheme == capability.with.scheme && semantics.canDelegateAbility(ownershipScope.ability, capability.can);
}
function ownershipCanBeDelegated(semantics, did, scope, fromDelegationChain) {
    if (did !== fromDelegationChain.ownershipDID) {
        return false;
    }
    const parentScope = fromDelegationChain.scope;
    // parent OwnershipScope can delegate child OwnershipScope
    if (parentScope === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"]) {
        return true;
    }
    if (scope === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"]) {
        return false;
    }
    return parentScope.scheme === scope.scheme && semantics.canDelegateAbility(parentScope.ability, scope.ability);
}
//  Internal
function* capabilitiesFromParenthood(ucan) {
    for (const capability of ucan.payload.att){
        switch(capability.with.scheme.toLowerCase()){
            // If it's a "my" capability, it'll indicate an ownership delegation
            case "my":
                {
                    const scope = capability.with.hierPart === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] : {
                        scheme: capability.with.hierPart,
                        ability: capability.can
                    };
                    yield {
                        ownershipDID: ucan.payload.iss,
                        scope,
                        ucan
                    };
                    break;
                }
            // if it's another known capability, we can ignore them
            // (they're not introduced by parenthood)
            case "as":
            case "prf":
                break;
            // otherwise we assume it's a normal parenthood capability introduction
            default:
                yield {
                    capability,
                    ucan
                };
        }
    }
}
function capabilitiesFromDelegation(plugins, semantics, ucan, isRevoked) {
    return __asyncGenerator(this, arguments, function* capabilitiesFromDelegation_1() {
        var e_1, _a;
        let proofIndex = 0;
        try {
            for(var _b = __asyncValues(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.validateProofs(plugins)(ucan)), _c; _c = yield __await(_b.next()), !_c.done;){
                const proof = _c.value;
                if (proof instanceof Error) {
                    yield yield __await(proof);
                    continue;
                }
                for (const capability of ucan.payload.att){
                    try {
                        switch(capability.with.scheme.toLowerCase()){
                            case "my":
                                continue; // cannot be delegated, only introduced by parenthood.
                            case "as":
                                {
                                    yield __await((yield* __asyncDelegator(__asyncValues(handleAsDelegation(plugins, semantics, capability, ucan, proof, isRevoked)))));
                                    break;
                                }
                            case "prf":
                                {
                                    yield __await((yield* __asyncDelegator(__asyncValues(handlePrfDelegation(plugins, semantics, capability, ucan, proof, proofIndex, isRevoked)))));
                                    break;
                                }
                            default:
                                {
                                    yield __await((yield* __asyncDelegator(__asyncValues(handleNormalDelegation(plugins, semantics, capability, ucan, proof, isRevoked)))));
                                }
                        }
                    } catch (e) {
                        yield yield __await(error(e));
                    }
                }
                proofIndex++;
            }
        } catch (e_1_1) {
            e_1 = {
                error: e_1_1
            };
        } finally{
            try {
                if (_c && !_c.done && (_a = _b.return)) yield __await(_a.call(_b));
            } finally{
                if (e_1) throw e_1.error;
            }
        }
        function error(e) {
            if (e instanceof Error) {
                return e;
            } else {
                return new Error(`Error during capability delegation checking: ${e}`);
            }
        }
    });
}
function handleAsDelegation(plugins, semantics, capability, ucan, proof, isRevoked) {
    return __asyncGenerator(this, arguments, function* handleAsDelegation_1() {
        var e_2, _a;
        const split = capability.with.hierPart.split(":");
        const scheme = split[split.length - 1];
        const ownershipDID = split.slice(0, -1).join(":");
        const scope = scheme === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] : {
            scheme,
            ability: capability.can
        };
        try {
            for(var _b = __asyncValues(delegationChains(plugins)(semantics, proof, isRevoked)), _c; _c = yield __await(_b.next()), !_c.done;){
                const delegationChain = _c.value;
                if (delegationChain instanceof Error) {
                    yield yield __await(delegationChain);
                    continue;
                }
                if (!("ownershipDID" in delegationChain)) {
                    continue;
                }
                if (ownershipCanBeDelegated(semantics, ownershipDID, scope, delegationChain)) {
                    yield yield __await({
                        ownershipDID,
                        scope,
                        ucan,
                        chainStep: delegationChain
                    });
                }
            }
        } catch (e_2_1) {
            e_2 = {
                error: e_2_1
            };
        } finally{
            try {
                if (_c && !_c.done && (_a = _b.return)) yield __await(_a.call(_b));
            } finally{
                if (e_2) throw e_2.error;
            }
        }
    });
}
function handlePrfDelegation(plugins, semantics, capability, ucan, proof, proofIndex, isRevoked) {
    return __asyncGenerator(this, arguments, function* handlePrfDelegation_1() {
        var e_3, _a;
        if (capability.with.hierPart !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"] && parseInt(capability.with.hierPart, 10) !== proofIndex) {
            // if it's something like prf:2, we need to make sure that
            // we only process the delegation if proofIndex === 2
            return yield __await(void 0);
        }
        try {
            for(var _b = __asyncValues(delegationChains(plugins)(semantics, proof, isRevoked)), _c; _c = yield __await(_b.next()), !_c.done;){
                const delegationChain = _c.value;
                if (delegationChain instanceof Error) {
                    yield yield __await(delegationChain);
                    continue;
                }
                if (!("capability" in delegationChain)) {
                    continue;
                }
                yield yield __await({
                    capability: delegationChain.capability,
                    ucan,
                    chainStep: delegationChain
                });
            }
        } catch (e_3_1) {
            e_3 = {
                error: e_3_1
            };
        } finally{
            try {
                if (_c && !_c.done && (_a = _b.return)) yield __await(_a.call(_b));
            } finally{
                if (e_3) throw e_3.error;
            }
        }
    });
}
function handleNormalDelegation(plugins, semantics, capability, ucan, proof, isRevoked) {
    return __asyncGenerator(this, arguments, function* handleNormalDelegation_1() {
        var e_4, _a;
        try {
            for(var _b = __asyncValues(delegationChains(plugins)(semantics, proof, isRevoked)), _c; _c = yield __await(_b.next()), !_c.done;){
                const delegationChain = _c.value;
                if (delegationChain instanceof Error) {
                    yield yield __await(delegationChain);
                    continue;
                }
                if (!capabilityCanBeDelegated(semantics, capability, delegationChain)) {
                    continue;
                }
                yield yield __await({
                    capability,
                    ucan,
                    chainStep: delegationChain
                });
            }
        } catch (e_4_1) {
            e_4 = {
                error: e_4_1
            };
        } finally{
            try {
                if (_c && !_c.done && (_a = _b.return)) yield __await(_a.call(_b));
            } finally{
                if (e_4) throw e_4.error;
            }
        }
    });
}
function canDelegate(semantics, parentCapability, childCapability) {
    return semantics.canDelegateResource(parentCapability.with, childCapability.with) && semantics.canDelegateAbility(parentCapability.can, childCapability.can);
} //# sourceMappingURL=attenuation.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/verify.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "verify": (()=>verify)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/token.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/attenuation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <locals>");
var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __asyncValues = this && this.__asyncValues || function(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
        return this;
    }, i);
    "TURBOPACK unreachable";
    function verb(n) {
        i[n] = o[n] && function(v) {
            return new Promise(function(resolve, reject) {
                v = o[n](v), settle(resolve, reject, v.done, v.value);
            });
        };
    }
    function settle(resolve, reject, d, v) {
        Promise.resolve(v).then(function(v) {
            resolve({
                value: v,
                done: d
            });
        }, reject);
    }
};
;
;
;
const ok = (k)=>({
        ok: true,
        value: k
    });
const err = (e)=>({
        ok: false,
        error: e
    });
const verify = (plugins)=>(ucan, options)=>__awaiter(void 0, void 0, void 0, function*() {
            var e_1, _a;
            var _b, _c, _d;
            const { audience, requiredCapabilities } = options;
            const semantics = (_b = options.semantics) !== null && _b !== void 0 ? _b : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["equalCanDelegate"];
            const isRevoked = (_c = options.isRevoked) !== null && _c !== void 0 ? _c : ()=>__awaiter(void 0, void 0, void 0, function*() {
                    return false;
                });
            const checkFacts = (_d = options.checkFacts) !== null && _d !== void 0 ? _d : ()=>true;
            // type-check arguments
            if (typeof ucan !== "string") {
                throw new TypeError(`Expected an encoded UCAN string as first argument, but got ${ucan}`);
            }
            if (typeof audience !== "string" || !audience.startsWith("did:")) {
                throw new TypeError(`Expected a DID string as second argument, but got ${audience}`);
            }
            if (typeof isRevoked !== "function") {
                throw new TypeError(`Expected a function returning a promise as third argument, but got ${isRevoked}`);
            }
            if (!Array.isArray(requiredCapabilities)) {
                throw new TypeError(`Expected an array as fourth argument, but got ${requiredCapabilities}`);
            }
            if (requiredCapabilities.length < 1) {
                throw new TypeError(`Expected a non-empty list of required capabilities as 4th argument.`);
            }
            if (requiredCapabilities.some((req)=>!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isCapability"])(req.capability) || typeof req.rootIssuer !== "string" || !req.rootIssuer.startsWith("did:"))) {
                throw new TypeError(`Expected an array of records of capabilities and rootIssuers as DID strings as 4th argument, but got ${requiredCapabilities}`);
            }
            if (typeof semantics.canDelegateResource !== "function" || typeof semantics.canDelegateAbility !== "function") {
                throw new TypeError(`Expected a record with two functions 'canDelegateResource' and 'canDelegateAbility' as 5th argument, but got ${semantics}`);
            }
            if (typeof checkFacts !== "function") {
                throw new TypeError(`Expected a function as 6th argument, but got ${checkFacts}`);
            }
            try {
                // Verify the UCAN
                const decoded = yield __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.validate(plugins)(ucan);
                // Check that it's addressed to us
                if (decoded.payload.aud !== audience) {
                    return err([
                        new Error(`Invalid UCAN: Expected audience to be ${audience}, but it's ${decoded.payload.aud}`)
                    ]);
                }
                const errors = [];
                const remaining = new Set(requiredCapabilities);
                const proven = [];
                try {
                    // Check that all required capabilities are verified
                    loop: for(var _e = __asyncValues((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["delegationChains"])(plugins)(semantics, decoded, isRevoked)), _f; _f = yield _e.next(), !_f.done;){
                        const delegationChain = _f.value;
                        if (delegationChain instanceof Error) {
                            errors.push(delegationChain);
                            continue;
                        }
                        // Try to look for capabilities from given delegation chain
                        for (const expected of remaining){
                            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["capabilityCanBeDelegated"])(semantics, expected.capability, delegationChain) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rootIssuer"])(delegationChain) === expected.rootIssuer) {
                                remaining.delete(expected);
                                proven.push(Object.assign(Object.assign({}, expected), {
                                    proof: delegationChain
                                }));
                            }
                        }
                        // If we've already verified all, we don't need to keep looking
                        if (remaining.size === 0) {
                            break loop;
                        }
                    }
                } catch (e_1_1) {
                    e_1 = {
                        error: e_1_1
                    };
                } finally{
                    try {
                        if (_f && !_f.done && (_a = _e.return)) yield _a.call(_e);
                    } finally{
                        if (e_1) throw e_1.error;
                    }
                }
                return remaining.size > 0 ? err(errors) : ok(proven);
            } catch (e) {
                return err([
                    e instanceof Error ? e : new Error(`Unknown error during UCAN verification: ${e}`)
                ]);
            }
        }); //# sourceMappingURL=verify.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/builder.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/token.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/types.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/attenuation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <locals>");
var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
;
;
;
;
;
function isBuildableState(obj) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "issuer") && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isKeypair"])(obj.issuer) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "audience") && typeof obj.audience === "string" && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "expiration") && typeof obj.expiration === "number";
}
function isCapabilityLookupCapableState(obj) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(obj) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "issuer") && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isKeypair"])(obj.issuer) && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(obj, "expiration") && typeof obj.expiration === "number";
}
/**
 * A builder API for UCANs.
 *
 * Supports grabbing UCANs from a UCAN `Store` for proofs (see `delegateCapability`).
 *
 * Example usage:
 *
 * ```ts
 * const ucan = await Builder.create()
 *   .issuedBy(aliceKeypair)
 *   .toAudience(bobDID)
 *   .withLifetimeInSeconds(30)
 *   .claimCapability({ email: "my@email.com", cap: "SEND" })
 *   .delegateCapability(emailSemantics, { email: "my-friends@email.com", cap: "SEND" }, proof)
 *   .build()
 * ```
 */ const mkBuilderClass = (plugins)=>{
    return class Builder {
        constructor(state, defaultable){
            this.state = state;
            this.defaultable = defaultable;
        }
        /**
         * Create an empty builder.
         * Before finalising the builder, you need to at least call
         * - `issuedBy`
         * - `toAudience` and
         * - `withLifetimeInSeconds` or `withExpiration`.
         * To finalise the builder, call its `build` or `buildPayload` method.
         */ static create() {
            return new Builder({}, {
                capabilities: [],
                facts: [],
                proofs: [],
                addNonce: false
            });
        }
        /**
         * @param issuer The issuer as a DID string ("did:key:...").
         *
         * The UCAN must be signed with the private key of the issuer to be valid.
         */ issuedBy(issuer) {
            if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isKeypair"])(issuer)) {
                throw new TypeError(`Expected a Keypair, but got ${issuer}`);
            }
            return new Builder(Object.assign(Object.assign({}, this.state), {
                issuer
            }), this.defaultable);
        }
        /**
         * @param audience The audience as a DID string ("did:key:...").
         *
         * This is the identity this UCAN transfers rights to.
         * It could e.g. be the DID of a service you're posting this UCAN as a JWT to,
         * or it could be the DID of something that'll use this UCAN as a proof to
         * continue the UCAN chain as an issuer.
         */ toAudience(audience) {
            if (typeof audience !== "string") {
                throw new TypeError(`Expected audience DID as string, but got ${audience}`);
            }
            return new Builder(Object.assign(Object.assign({}, this.state), {
                audience
            }), this.defaultable);
        }
        /**
         * @param seconds The number of seconds from the calltime of this function
         *   to set the expiry timestamp to.
         */ withLifetimeInSeconds(seconds) {
            if (typeof seconds !== "number") {
                throw new TypeError(`Expected seconds as number, but got ${seconds}`);
            }
            if (!isFinite(seconds) || seconds <= 0) {
                throw new TypeError(`Expected seconds to be a positive number, but got ${seconds}`);
            }
            return this.withExpiration(Math.floor(Date.now() / 1000) + seconds);
        }
        /**
         * @param expiration The UTCTime timestamp (in seconds) for when the UCAN should expire.
         */ withExpiration(expiration) {
            if (typeof expiration !== "number" || !isFinite(expiration)) {
                throw new TypeError(`Expected expiration as number, but got ${expiration}`);
            }
            if (this.defaultable.notBefore != null && expiration < this.defaultable.notBefore) {
                throw new Error(`Can't set expiration to ${expiration} which is before 'notBefore': ${this.defaultable.notBefore}`);
            }
            return new Builder(Object.assign(Object.assign({}, this.state), {
                expiration
            }), this.defaultable);
        }
        /**
         * @param notBeforeTimestamp The UTCTime timestamp (in seconds) of when the UCAN becomes active.
         */ withNotBefore(notBeforeTimestamp) {
            if (typeof notBeforeTimestamp !== "number" || !isFinite(notBeforeTimestamp)) {
                throw new TypeError(`Expected notBeforeTimestamp as number, but got ${notBeforeTimestamp}`);
            }
            if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(this.state, "expiration") && typeof this.state.expiration === "number" && this.state.expiration < notBeforeTimestamp) {
                throw new Error(`Can't set 'notBefore' to ${notBeforeTimestamp} which is after expiration: ${this.state.expiration}`);
            }
            return new Builder(this.state, Object.assign(Object.assign({}, this.defaultable), {
                notBefore: notBeforeTimestamp
            }));
        }
        withFact(fact, ...facts) {
            if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(fact) || facts.some((fct)=>!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.isRecord(fct))) {
                throw new TypeError(`Expected fact(s) to be a record, but got ${fact}`);
            }
            return new Builder(this.state, Object.assign(Object.assign({}, this.defaultable), {
                facts: [
                    ...this.defaultable.facts,
                    fact,
                    ...facts
                ]
            }));
        }
        /**
         * Will ensure that the built UCAN includes a number used once.
         */ withNonce() {
            return new Builder(this.state, Object.assign(Object.assign({}, this.defaultable), {
                addNonce: true
            }));
        }
        claimCapability(capability, ...capabilities) {
            if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isCapability"])(capability)) {
                throw new TypeError(`Expected capability, but got ${JSON.stringify(capability, null, " ")}`);
            }
            return new Builder(this.state, Object.assign(Object.assign({}, this.defaultable), {
                capabilities: [
                    ...this.defaultable.capabilities,
                    capability,
                    ...capabilities
                ]
            }));
        }
        delegateCapability(requiredCapability, storeOrProof, semantics) {
            if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isCapability"])(requiredCapability)) {
                throw new TypeError(`Expected 'requiredCapability' as a second argument, but got ${requiredCapability}`);
            }
            if (!isCapabilityLookupCapableState(this.state)) {
                throw new Error(`Can't delegate capabilities without having these paramenters set in the builder: issuer and expiration.`);
            }
            function isProof(proof) {
                return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(proof, "capability") || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.hasProp(proof, "ownershipDID");
            }
            if (isProof(storeOrProof)) {
                if (semantics == null) {
                    throw new TypeError(`Expected 'semantics' as third argument if a 'proof' DelegationChain was passed as second.`);
                }
                const proof = storeOrProof;
                const ucan = proof.ucan;
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["capabilityCanBeDelegated"])(semantics, requiredCapability, proof)) {
                    throw new Error(`Can't add capability to UCAN: Given proof doesn't give required rights to delegate.`);
                }
                return new Builder(this.state, Object.assign(Object.assign({}, this.defaultable), {
                    capabilities: [
                        ...this.defaultable.capabilities,
                        requiredCapability
                    ],
                    proofs: this.defaultable.proofs.find((p)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode(p) === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode(ucan)) == null ? [
                        ...this.defaultable.proofs,
                        ucan
                    ] : this.defaultable.proofs
                }));
            } else {
                const store = storeOrProof;
                const issuer = this.state.issuer.did();
                // we look up a proof that has our issuer as an audience
                const result = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.first(store.findWithCapability(issuer, requiredCapability, issuer));
                if (result != null) {
                    const ucan = result.ucan;
                    const ucanEncoded = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode(ucan);
                    return new Builder(this.state, Object.assign(Object.assign({}, this.defaultable), {
                        capabilities: [
                            ...this.defaultable.capabilities,
                            requiredCapability
                        ],
                        proofs: this.defaultable.proofs.find((proof)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode(proof) === ucanEncoded) == null ? [
                            ...this.defaultable.proofs,
                            ucan
                        ] : this.defaultable.proofs
                    }));
                } else {
                    throw new Error(`Couldn't add capability to UCAN. Couldn't find anything providing this capability in given store.`);
                }
            }
        }
        buildPayload() {
            if (!isBuildableState(this.state)) {
                throw new Error(`Builder is missing one of the required properties before it can be built: issuer, audience and expiration.`);
            }
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.buildPayload({
                issuer: this.state.issuer.did(),
                audience: this.state.audience,
                expiration: this.state.expiration,
                notBefore: this.defaultable.notBefore,
                addNonce: this.defaultable.addNonce,
                capabilities: this.defaultable.capabilities,
                facts: this.defaultable.facts,
                proofs: this.defaultable.proofs.map((proof)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode(proof))
            });
        }
        build() {
            return __awaiter(this, void 0, void 0, function*() {
                if (!isBuildableState(this.state)) {
                    throw new Error(`Builder is missing one of the required properties before it can be built: issuer, audience and expiration.`);
                }
                const payload = this.buildPayload();
                return yield __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.signWithKeypair(plugins)(payload, this.state.issuer);
            });
        }
    };
};
const __TURBOPACK__default__export__ = mkBuilderClass;
 //# sourceMappingURL=builder.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/store.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/token.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/attenuation.js [app-client] (ecmascript)");
var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __asyncValues = this && this.__asyncValues || function(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
        return this;
    }, i);
    "TURBOPACK unreachable";
    function verb(n) {
        i[n] = o[n] && function(v) {
            return new Promise(function(resolve, reject) {
                v = o[n](v), settle(resolve, reject, v.done, v.value);
            });
        };
    }
    function settle(resolve, reject, d, v) {
        Promise.resolve(v).then(function(v) {
            resolve({
                value: v,
                done: d
            });
        }, reject);
    }
};
;
;
const mkStoreClass = (plugins)=>{
    return class Store {
        constructor(knownSemantics, index){
            this.index = index;
            this.knownSemantics = knownSemantics;
        }
        static empty(knownSemantics) {
            return new Store(knownSemantics, {});
        }
        static fromTokens(knownSemantics, tokens) {
            var tokens_1, tokens_1_1;
            var e_1, _a;
            return __awaiter(this, void 0, void 0, function*() {
                const store = Store.empty(knownSemantics);
                try {
                    for(tokens_1 = __asyncValues(tokens); tokens_1_1 = yield tokens_1.next(), !tokens_1_1.done;){
                        const encodedUcan = tokens_1_1.value;
                        const ucan = yield __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.validate(plugins)(encodedUcan);
                        yield store.add(ucan);
                    }
                } catch (e_1_1) {
                    e_1 = {
                        error: e_1_1
                    };
                } finally{
                    try {
                        if (tokens_1_1 && !tokens_1_1.done && (_a = tokens_1.return)) yield _a.call(tokens_1);
                    } finally{
                        if (e_1) throw e_1.error;
                    }
                }
                return store;
            });
        }
        add(ucan) {
            var e_2, _a;
            var _b;
            return __awaiter(this, void 0, void 0, function*() {
                const audience = ucan.payload.aud;
                const byAudience = (_b = this.index[audience]) !== null && _b !== void 0 ? _b : [];
                const encoded = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode(ucan);
                if (byAudience.find((stored)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode(stored.processedUcan) === encoded) != null) {
                    return;
                }
                const chains = [];
                try {
                    for(var _c = __asyncValues((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["delegationChains"])(plugins)(this.knownSemantics, ucan)), _d; _d = yield _c.next(), !_d.done;){
                        const delegationChain = _d.value;
                        if (delegationChain instanceof Error) {
                            console.warn(`Delegation chain error while storing UCAN:`, delegationChain);
                            continue;
                        }
                        chains.push(delegationChain);
                    }
                } catch (e_2_1) {
                    e_2 = {
                        error: e_2_1
                    };
                } finally{
                    try {
                        if (_d && !_d.done && (_a = _c.return)) yield _a.call(_c);
                    } finally{
                        if (e_2) throw e_2.error;
                    }
                }
                // Also do this *after* the all awaits to prevent races.
                if (byAudience.find((stored)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.encode(stored.processedUcan) === encoded) != null) {
                    return;
                }
                byAudience.push({
                    processedUcan: ucan,
                    capabilities: chains
                });
                this.index[audience] = byAudience;
            });
        }
        getByAudience(audience) {
            var _a;
            return ((_a = this.index[audience]) !== null && _a !== void 0 ? _a : []).map((elem)=>elem.processedUcan);
        }
        findByAudience(audience, predicate) {
            var _a, _b, _c;
            return (_c = (_b = (_a = this.index[audience]) === null || _a === void 0 ? void 0 : _a.find((elem)=>predicate(elem.processedUcan))) === null || _b === void 0 ? void 0 : _b.processedUcan) !== null && _c !== void 0 ? _c : null;
        }
        *findWithCapability(audience, requiredCapability, requiredIssuer) {
            const cache = this.index[audience];
            if (cache == null) {
                return;
            }
            for (const cacheElement of cache){
                for (const delegationChain of cacheElement.capabilities){
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["capabilityCanBeDelegated"])(this.knownSemantics, requiredCapability, delegationChain) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rootIssuer"])(delegationChain) === requiredIssuer) {
                        yield delegationChain;
                    }
                }
            }
        }
    };
};
const __TURBOPACK__default__export__ = mkStoreClass;
 //# sourceMappingURL=store.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/plugins.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "Plugins": (()=>Plugins),
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/node_modules/uint8arrays/esm/src/index.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/node_modules/uint8arrays/esm/src/index.js [app-client] (ecmascript)");
var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
;
class Plugins {
    constructor(keys, methods){
        this.keys = keys;
        this.methods = methods;
    }
    verifyIssuerAlg(did, jwtAlg) {
        const didMethod = parseDidMethod(did);
        if (didMethod === "key") {
            const bytes = parsePrefixedBytes(did);
            for (const keyPlugin of this.keys){
                if (hasPrefix(bytes, keyPlugin.prefix)) {
                    return jwtAlg === keyPlugin.jwtAlg;
                }
            }
        } else {
            const maybePlugin = this.methods[didMethod];
            if (maybePlugin) {
                return maybePlugin.checkJwtAlg(did, jwtAlg);
            }
        }
        throw new Error(`DID method not supported by plugins: ${did}`);
    }
    verifySignature(did, data, sig) {
        return __awaiter(this, void 0, void 0, function*() {
            const didMethod = parseDidMethod(did);
            if (didMethod === "key") {
                const bytes = parsePrefixedBytes(did);
                for (const keyPlugin of this.keys){
                    if (hasPrefix(bytes, keyPlugin.prefix)) {
                        return keyPlugin.verifySignature(did, data, sig);
                    }
                }
            } else {
                const maybePlugin = this.methods[didMethod];
                if (maybePlugin) {
                    return maybePlugin.verifySignature(did, data, sig);
                }
            }
            throw new Error(`DID method not supported by plugins: ${did}`);
        });
    }
}
const __TURBOPACK__default__export__ = Plugins;
const hasPrefix = (prefixedKey, prefix)=>{
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.equals(prefix, prefixedKey.subarray(0, prefix.byteLength));
};
const BASE58_DID_PREFIX = "did:key:z";
// @TODO would be better to follow the actual varint spec here (instead of guess & check):
// https://github.com/multiformats/unsigned-varint 
const parsePrefixedBytes = (did)=>{
    if (!did.startsWith(BASE58_DID_PREFIX)) {
        throw new Error(`Not a valid base58 formatted did:key: ${did}`);
    }
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$node_modules$2f$uint8arrays$2f$esm$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.fromString(did.slice(BASE58_DID_PREFIX.length), "base58btc");
};
const parseDidMethod = (did)=>{
    const parts = did.split(":");
    if (parts[0] !== "did") {
        throw new Error(`Not a DID: ${did}`);
    }
    if (parts[1].length < 1) {
        throw new Error(`No DID method included: ${did}`);
    }
    return parts[1];
}; //# sourceMappingURL=plugins.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/index.js [app-client] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "getPluginInjectedApi": (()=>getPluginInjectedApi)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/token.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$verify$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/verify.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/attenuation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$builder$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/builder.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$store$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/store.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const getPluginInjectedApi = (plugins)=>{
    const build = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.build(plugins);
    const sign = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.sign(plugins);
    const signWithKeypair = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.signWithKeypair(plugins);
    const validate = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.validate(plugins);
    const validateProofs = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.validateProofs(plugins);
    const verify = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$verify$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.verify(plugins);
    const delegationChains = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__.delegationChains(plugins);
    const Builder = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$builder$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(plugins);
    const Store = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$store$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(plugins);
    return {
        build,
        sign,
        signWithKeypair,
        validate,
        validateProofs,
        verify,
        delegationChains,
        Builder,
        Store
    };
}; //# sourceMappingURL=index.js.map
}}),
"[project]/node_modules/@ucans/core/dist/esm/index.js [app-client] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/token.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$verify$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/verify.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/attenuation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$builder$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/builder.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$store$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/store.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/types.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$plugins$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/plugins.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/resource-pointer.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/index.js [app-client] (ecmascript) <locals>");
}}),
"[project]/node_modules/@ucans/core/dist/esm/index.js [app-client] (ecmascript) <exports>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({
    "Plugins": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$plugins$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Plugins"]),
    "SUPERUSER": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPERUSER"]),
    "ability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__),
    "all": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["all"]),
    "build": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["build"]),
    "buildPayload": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["buildPayload"]),
    "capability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__),
    "capabilityCanBeDelegated": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["capabilityCanBeDelegated"]),
    "delegationChains": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["delegationChains"]),
    "encode": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encode"]),
    "encodeHeader": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeHeader"]),
    "encodePayload": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePayload"]),
    "equalCanDelegate": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["equalCanDelegate"]),
    "first": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["first"]),
    "generateNonce": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateNonce"]),
    "getPluginInjectedApi": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getPluginInjectedApi"]),
    "hasProp": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hasProp"]),
    "isAbility": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isAbility"]),
    "isAsyncIterable": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isAsyncIterable"]),
    "isCapability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isCapability"]),
    "isExpired": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isExpired"]),
    "isIterable": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isIterable"]),
    "isKeypair": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isKeypair"]),
    "isRecord": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isRecord"]),
    "isResourcePointer": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isResourcePointer"]),
    "isTooEarly": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isTooEarly"]),
    "isUcanHeader": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isUcanHeader"]),
    "isUcanPayload": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isUcanPayload"]),
    "ownershipCanBeDelegated": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ownershipCanBeDelegated"]),
    "parse": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parse"]),
    "rootIssuer": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rootIssuer"]),
    "sign": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sign"]),
    "signWithKeypair": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["signWithKeypair"]),
    "validate": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validate"]),
    "validateProofs": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateProofs"]),
    "verify": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$verify$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["verify"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$super$2d$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/super-user.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$ability$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/ability.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$capability$2f$resource$2d$pointer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/capability/resource-pointer.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$attenuation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/attenuation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$builder$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/builder.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$store$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/store.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$token$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/token.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/types.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$verify$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/verify.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$plugins$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/plugins.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/util.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/index.js [app-client] (ecmascript) <locals>");
}}),
"[project]/node_modules/@ucans/core/dist/esm/index.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({
    "Plugins": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["Plugins"]),
    "SUPERUSER": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["SUPERUSER"]),
    "ability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["ability"]),
    "all": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["all"]),
    "build": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["build"]),
    "buildPayload": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["buildPayload"]),
    "capability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["capability"]),
    "capabilityCanBeDelegated": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["capabilityCanBeDelegated"]),
    "delegationChains": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["delegationChains"]),
    "encode": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["encode"]),
    "encodeHeader": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["encodeHeader"]),
    "encodePayload": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["encodePayload"]),
    "equalCanDelegate": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["equalCanDelegate"]),
    "first": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["first"]),
    "generateNonce": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["generateNonce"]),
    "getPluginInjectedApi": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["getPluginInjectedApi"]),
    "hasProp": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["hasProp"]),
    "isAbility": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isAbility"]),
    "isAsyncIterable": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isAsyncIterable"]),
    "isCapability": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isCapability"]),
    "isExpired": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isExpired"]),
    "isIterable": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isIterable"]),
    "isKeypair": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isKeypair"]),
    "isRecord": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isRecord"]),
    "isResourcePointer": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isResourcePointer"]),
    "isTooEarly": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isTooEarly"]),
    "isUcanHeader": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isUcanHeader"]),
    "isUcanPayload": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["isUcanPayload"]),
    "ownershipCanBeDelegated": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["ownershipCanBeDelegated"]),
    "parse": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["parse"]),
    "rootIssuer": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["rootIssuer"]),
    "sign": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["sign"]),
    "signWithKeypair": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["signWithKeypair"]),
    "validate": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["validate"]),
    "validateProofs": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["validateProofs"]),
    "verify": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["verify"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/index.js [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucans$2f$core$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__ = __turbopack_import__("[project]/node_modules/@ucans/core/dist/esm/index.js [app-client] (ecmascript) <exports>");
}}),
}]);

//# sourceMappingURL=node_modules_%40ucans_core_dist_esm_d43a93._.js.map